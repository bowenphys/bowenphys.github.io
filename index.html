<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" integrity="sha256-VHqXKFhhMxcpubYf9xiWdCiojEbY9NexQ4jh8AxbvcM=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"blog.yangrucheng.top","root":"/","images":"/images","scheme":"Muse","darkmode":true,"version":"8.27.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"default","dark":"stackoverflow-dark"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js" defer></script>

    <meta name="description" content="博客、分享、经验、教程">
<meta property="og:type" content="website">
<meta property="og:title" content="符号看象限">
<meta property="og:url" content="https://blog.yangrucheng.top/">
<meta property="og:site_name" content="符号看象限">
<meta property="og:description" content="博客、分享、经验、教程">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="YangRucheng">
<meta property="article:tag" content="御坂网络工作室,博客,分享,经验,教程">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://blog.yangrucheng.top/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>符号看象限</title>
  








  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script>

  






  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">符号看象限</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">YangRucheng</p>
  <div class="site-description" itemprop="description">博客、分享、经验、教程</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">4</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://blog.yangrucheng.top/posts/2025/02/95dfce22be52/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="YangRucheng">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="符号看象限">
      <meta itemprop="description" content="博客、分享、经验、教程">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | 符号看象限">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/2025/02/95dfce22be52/" class="post-title-link" itemprop="url">网站建设方案书</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-02-20 00:00" itemprop="dateCreated datePublished" datetime="2025-02-20T00:00:00+08:00">2025-02-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-08-17 01:11" itemprop="dateModified" datetime="2025-08-17T01:11:41+08:00">2025-08-17</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="企业备案-网站建设方案书"><a href="#企业备案-网站建设方案书" class="headerlink" title="企业备案 网站建设方案书"></a>企业备案 网站建设方案书</h1><h2 id="公司网站建设目的"><a href="#公司网站建设目的" class="headerlink" title="公司网站建设目的"></a>公司网站建设目的</h2><p>在数字化时代，企业的线上形象与线下运营同等重要。我司开展网站建设，旨在全方位展示公司形象，深度服务于公司日常运营。通过建立一个专业、高效且富有吸引力的网站，我们期望实现以下目标：</p>
<p><strong>提升企业形象</strong>：精心设计的网站将成为企业的线上名片，以直观、生动的方式展现企业的价值观、发展历程与核心优势，在目标客户群体中树立良好的品牌形象。</p>
<p><strong>开拓市场</strong>：互联网打破了地域限制，网站作为企业面向全球的窗口，能够吸引更多潜在客户，拓展市场边界，提升市场份额。</p>
<p><strong>创新管理宣传模式</strong>：借助先进的网站技术和功能，建立一套全新的管理宣传体系，实现信息的快速传播与高效互动，提升企业的管理效率和宣传效果。</p>
<p><strong>优化客户服务</strong>：通过网站提供丰富的服务内容和便捷的服务渠道，如在线咨询、业务办理、常见问题解答等，为企业客户提供更完善、更贴心的服务体验。</p>
<p><strong>加强信息联系</strong>：搭建企业与社会各界沟通的桥梁，及时发布企业动态、行业资讯等信息，同时收集用户反馈，促进信息的双向流动。</p>
<p><strong>提高运营效率</strong>：利用网站实现部分业务流程的数字化，如订单处理、客户管理等，优化内部管理流程，降低运营成本。</p>
<p>企业网站的建立，不仅符合时代发展的趋势，更为公司开辟了一条全新的宣传推广渠道，同时也为消费者提供了更便捷、更全面的服务，助力公司知名度的迅速提升。</p>
<h2 id="网站服务内容介绍"><a href="#网站服务内容介绍" class="headerlink" title="网站服务内容介绍"></a>网站服务内容介绍</h2><h3 id="企业形象展示平台"><a href="#企业形象展示平台" class="headerlink" title="企业形象展示平台"></a>企业形象展示平台</h3><p>在企业形象宣传与推广方面，我们将运用先进的网页设计技术和创意策划，突出企业在业内的领先地位和独特形象。通过精美的图片、生动的视频、富有感染力的文案以及交互性强的页面设计，全方位展示企业的实力、文化和成就，使用户在浏览网站时能够产生强烈的视觉冲击和情感共鸣，激发他们对企业的兴趣和好感，从而产生再次访问的意向。</p>
<h3 id="企业服务展示平台"><a href="#企业服务展示平台" class="headerlink" title="企业服务展示平台"></a>企业服务展示平台</h3><p>企业服务展示平台是客户了解公司服务的核心窗口，也是展示企业专业服务能力的重要平台。我们将设立专门的栏目，详细介绍公司的各类服务项目、服务流程、服务优势以及成功案例等内容。通过图文并茂、深入浅出的方式，让客户能够快速、全面地了解公司的服务内容和价值，同时提供在线咨询和预约服务，方便客户与企业进行沟通和合作。</p>
<h3 id="企业文化展示平台"><a href="#企业文化展示平台" class="headerlink" title="企业文化展示平台"></a>企业文化展示平台</h3><p>企业文化是企业的灵魂，我们将通过网站展示勋信文化公司独特的、与企业形象相一致的企业文化。这包括企业的服务品质理念，如以客户为中心、追求卓越的服务精神；展示专业的技术团队，介绍团队成员的资质、经验和成就，体现企业的技术实力；分享企业的发展历程、价值观和社会责任，让用户深入了解企业的文化内涵和精神风貌。</p>
<h3 id="企业信息发布平台"><a href="#企业信息发布平台" class="headerlink" title="企业信息发布平台"></a>企业信息发布平台</h3><p>利用互联网信息传递的及时性和广泛性优势，我们将建立一个高效的企业信息发布平台。通过该平台，随时更新、发布企业的各种信息，如公司最新产品信息、最新的公告信息、行业动态、活动资讯等。确保关注勋信文化的用户群体能够在第一时间获得最新、最准确的信息，增强企业与用户之间的互动和粘性。</p>
<h2 id="网站框架"><a href="#网站框架" class="headerlink" title="网站框架"></a>网站框架</h2><h3 id="首页"><a href="#首页" class="headerlink" title="首页"></a>首页</h3><p>首页作为网站的门面，将以简洁大气的设计风格，展示企业的核心业务、品牌形象和最新动态。通过轮播图、热门推荐、快捷导航等元素，引导用户快速找到他们感兴趣的内容，同时营造出强烈的视觉吸引力，激发用户的探索欲望。</p>
<h3 id="关于我们"><a href="#关于我们" class="headerlink" title="关于我们"></a>关于我们</h3><p>该栏目将详细宣传公司背景，包括公司的成立时间、发展历程、组织架构等；介绍经营范围，让用户了解公司的业务领域和服务内容；展示经营业绩，如过往的项目成果、获得的奖项等，体现企业的实力和竞争力；深入阐述企业文化，包括企业的价值观、使命和愿景；同时提供售后服务的相关信息，如服务承诺、售后流程等，增强用户对企业的信任。</p>
<h3 id="网站套餐"><a href="#网站套餐" class="headerlink" title="网站套餐"></a>网站套餐</h3><p>发布公司最新的业务组合套餐，详细介绍每个套餐的内容、价格、优势和适用场景。通过对比分析、案例展示等方式，帮助用户选择最适合自己的套餐，同时提供在线咨询和订购服务，方便用户进行业务办理。</p>
<h3 id="成功案例"><a href="#成功案例" class="headerlink" title="成功案例"></a>成功案例</h3><p>陈列展示公司合作的经典案例，按照不同的行业、项目类型进行分类展示。每个案例都将详细介绍项目背景、目标、解决方案和成果，通过实际案例展示企业的专业能力和创新精神，为潜在客户提供参考和借鉴。</p>
<h3 id="联系我们"><a href="#联系我们" class="headerlink" title="联系我们"></a>联系我们</h3><p>介绍公司地址，提供详细的地图导航和交通指南；展示公司联系方式，如电话、邮箱、社交媒体账号等；同时提供业务咨询方式，如在线客服、留言表单等，方便用户与企业取得联系，及时解答用户的疑问和需求。</p>
<h2 id="组网方案"><a href="#组网方案" class="headerlink" title="组网方案"></a>组网方案</h2><h3 id="服务器基础设备配置"><a href="#服务器基础设备配置" class="headerlink" title="服务器基础设备配置"></a>服务器基础设备配置</h3><p>我们选用阿里云 ECS 2vCPU 2GiB 的服务器，搭配 30G 云盘，以满足网站初期的运行需求。阿里云作为全球领先的云计算服务提供商，具有稳定可靠的基础设施、强大的计算能力和高效的数据存储能力，能够确保网站的稳定运行和快速响应。</p>
<h3 id="服务器使用技术及部署情况"><a href="#服务器使用技术及部署情况" class="headerlink" title="服务器使用技术及部署情况"></a>服务器使用技术及部署情况</h3><p><strong>服务器系统程序</strong>：采用 Ubuntu24.04 64 位 (安全加固) 操作系统，该系统具有开源、稳定、安全等特点，能够为网站提供坚实的系统基础。同时，通过安全加固措施，如安装防火墙、更新系统补丁、设置用户权限等，进一步提升系统的安全性和稳定性。</p>
<p><strong>Web 服务器程序</strong>：选用 Caddy 和 Nginx 作为 Web 服务器程序。Caddy 具有简单易用、自动配置 SSL 证书等优势，能够快速搭建安全、高效的 Web 服务；Nginx 则以高性能、高并发处理能力著称，能够有效应对网站的大量访问请求，确保网站的快速响应和稳定运行。我们将根据网站的实际需求，合理配置 Caddy 和 Nginx，实现优势互补，为用户提供最佳的访问体验。</p>
<h2 id="网络安全与信息安全管理制度"><a href="#网络安全与信息安全管理制度" class="headerlink" title="网络安全与信息安全管理制度"></a>网络安全与信息安全管理制度</h2><p><strong>安全教育</strong>：组织工作人员认真学习《计算机信息网络国际互联网安全保护管理办法》，定期开展网络安全培训和讲座，提高工作人员的维护网络安全的警惕性和自觉性，使其深刻认识到网络安全的重要性。</p>
<p><strong>用户培训</strong>：负责对本网络用户进行安全教育和培训，通过线上教程、线下培训等方式，使用户自觉遵守和维护《计算机信息网络国际互联网安全保护管理办法》，掌握基本的网络安全知识，如密码设置、防范网络诈骗等。</p>
<p><strong>信息审核</strong>：加强对单位的信息发布的审核管理工作，建立严格的信息审核流程，确保发布的信息内容合法、合规、真实、准确。杜绝违犯《计算机信息网络国际互联网安全保护管理办法》的内容出现，如违法言论、虚假信息、侵权内容等。</p>
<p><strong>应急响应</strong>：一旦发现危害计算机信息网络安全和国家相关法律法规的情况，立即启动应急响应机制。接受并配合公安机关的安全监督、检查和指导，如实向公安机关提供有关安全保护的信息、资料及数据文件，协助公安机关查处通过国际联网的计算机信息网络的违法犯罪行为。</p>
<h2 id="承诺"><a href="#承诺" class="headerlink" title="承诺"></a>承诺</h2><p>如发现主体信息有误、网站实际开办内容与备案信息不一致、域名有交易行为、网站内容涉及九不准等违法违规问题，我们将积极配合接入服务商关闭网站、主管部门注销备案，并接受列入黑名单的处罚。同时，我们将加强内部管理，定期进行自查自纠，确保网站的合法合规运营。</p>
<hr>
<h1 id="个人备案-网站建设方案书"><a href="#个人备案-网站建设方案书" class="headerlink" title="个人备案 网站建设方案书"></a>个人备案 网站建设方案书</h1><h2 id="一、网站建设目的"><a href="#一、网站建设目的" class="headerlink" title="一、网站建设目的"></a>一、网站建设目的</h2><p>在知识快速更新的时代，个人学习经验具有独特价值。搭建此网站旨在系统性地分享我在各学科学习、考试备考以及自我提升过程中积累的方法、心得与技巧，帮助其他学习者突破学习困境，提高学习效率。同时，通过网站的建设与运营，梳理自身知识体系，回顾学习历程，激励自己持续学习与成长，在知识分享的过程中实现自我价值的提升，为构建积极向上的学习社区贡献力量。</p>
<h2 id="二、服务内容介绍"><a href="#二、服务内容介绍" class="headerlink" title="二、服务内容介绍"></a>二、服务内容介绍</h2><p><strong>学习经验分享</strong>：提供涵盖多学科的学习方法，如数学的解题思路总结、英语的词汇记忆技巧、专业课程的知识框架梳理等；分享各类考试的备考策略，从时间规划、资料选择到答题技巧一应俱全；分享自我提升的方法，包括时间管理、阅读技巧、心态调整等方面的经验。</p>
<p><strong>知识内容呈现</strong>：以文章、图表、视频等多样化形式呈现知识，确保内容通俗易懂、生动有趣。文章分类清晰，方便用户根据自身需求快速查找；视频讲解直观形象，助力用户理解复杂知识点；图表则用于归纳总结，增强知识的系统性和条理性。</p>
<h2 id="三、网站组网框架"><a href="#三、网站组网框架" class="headerlink" title="三、网站组网框架"></a>三、网站组网框架</h2><p><strong>首页</strong>：展示网站的核心内容与特色，包括热门文章推荐、最新发布内容预览、学习领域分类导航，吸引用户进一步探索。</p>
<p><strong>学习领域分类页面</strong>：按照学科、学习主题等维度对内容进行分类展示，如 “语言学习”“职业技能提升”“学术考试备考” 等，方便用户精准定位所需知识。</p>
<p><strong>文章详情页</strong>：详细呈现文章内容，包括文字讲解、案例分析、相关资料链接等，同时提供点赞、收藏功能，方便用户标记感兴趣的内容。</p>
<p><strong>搜索页面</strong>：支持用户通过关键词搜索文章，配备智能联想和搜索历史功能，提升搜索效率。</p>
<p><strong>关于我页面</strong>：介绍网站创建者的背景、学习经历以及创建网站的初衷，增强用户对网站的信任与了解。</p>
<h2 id="四、网络安全与信息安全管理制度"><a href="#四、网络安全与信息安全管理制度" class="headerlink" title="四、网络安全与信息安全管理制度"></a>四、网络安全与信息安全管理制度</h2><p><strong>数据加密</strong>：对用户浏览记录、文章数据等进行加密存储与传输，防止数据泄露与篡改。</p>
<p><strong>安全漏洞监测</strong>：定期进行安全漏洞扫描，及时发现并修复潜在的安全隐患，确保网站运行稳定。</p>
<p><strong>访问控制</strong>：设置合理的访问权限，限制非法访问，保障网站数据安全。</p>
<p><strong>数据备份</strong>：定期对网站数据进行备份，防止数据丢失，确保在意外情况下能够快速恢复数据。</p>
<h2 id="五、承诺"><a href="#五、承诺" class="headerlink" title="五、承诺"></a>五、承诺</h2><p>本人承诺严格遵守国家相关法律法规，确保网站内容合法合规，不涉及任何违法违规信息。若网站内容出现违反法律法规、侵犯他人权益等问题，愿意承担相应的法律责任，并积极配合相关部门进行处理。同时，保证网站运营过程中尊重用户隐私，严格按照隐私政策处理用户数据。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://blog.yangrucheng.top/posts/2024/12/c9940267708a/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="YangRucheng">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="符号看象限">
      <meta itemprop="description" content="博客、分享、经验、教程">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | 符号看象限">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/2024/12/c9940267708a/" class="post-title-link" itemprop="url">把 NoneBot 接入微信公众号 —— 写一个 Adapter</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-12-20 00:00" itemprop="dateCreated datePublished" datetime="2024-12-20T00:00:00+08:00">2024-12-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-08-17 01:11" itemprop="dateModified" datetime="2025-08-17T01:11:41+08:00">2025-08-17</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>本篇记录写一个 <a target="_blank" rel="noopener" href="https://github.com/YangRucheng/nonebot-adapter-wxmp">NoneBot2 Adapter for 微信公众平台</a> 学到的语法</p>
</blockquote>
<p>阅读前，默认您已经了解 <a target="_blank" rel="noopener" href="https://nonebot.dev/docs/tutorial/fundamentals">NoneBot 的构成</a> 并熟悉事件处理流程。<br>本文均以 微信公众平台使用的 WebHook 方式推送事件为例。</p>
<h2 id="如何写一个-adapter-？"><a href="#如何写一个-adapter-？" class="headerlink" title="如何写一个 adapter ？"></a>如何写一个 adapter ？</h2><p>参考 <a target="_blank" rel="noopener" href="https://nonebot.dev/docs/developer/adapter-writing">编写适配器</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">nonebot-adapter-wxmp</span><br><span class="line">├── nonebot</span><br><span class="line">│   ├── adapters</span><br><span class="line">│   │   ├── wxmp</span><br><span class="line">│   │   │   ├── __init__.py</span><br><span class="line">│   │   │   ├── adapter.py</span><br><span class="line">│   │   │   ├── bot.py</span><br><span class="line">│   │   │   ├── config.py</span><br><span class="line">│   │   │   ├── event.py</span><br><span class="line">│   │   │   ├── util.py</span><br><span class="line">│   │   │   ├── exception.py</span><br><span class="line">│   │   │   └── message.py</span><br><span class="line">├── pyproject.toml</span><br><span class="line">└── README.md</span><br></pre></td></tr></table></figure>

<p>adapter 的结果在官方文档中已有详细介绍，不在此赘述。</p>
<h3 id="adapter-中的处理流程"><a href="#adapter-中的处理流程" class="headerlink" title="adapter 中的处理流程"></a>adapter 中的处理流程</h3><ol>
<li>首先由 <code>adapter.py</code> 中注册的 POST 请求处理函数 <code>handle_http</code> 处理原始请求。<code>handle_http</code> 进行验签（解密）。</li>
<li><code>parse_body</code> 负责将 body 转为 dict。</li>
<li><code>payload_to_event</code> 将 dict 使用 pydantic 的 model_validate 转为 <code>Event</code> 的派生类。</li>
<li><code>dispatch_event</code> 负责分发事件，调用 <code>bot.handle_event(event=event)</code> 处理事件。如果是公众号，需要等待用户 <code>send</code> 后再返回 Response。</li>
</ol>
<h2 id="学到了什么？"><a href="#学到了什么？" class="headerlink" title="学到了什么？"></a>学到了什么？</h2><h3 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h3><p>nonebot 实现了一个 <code>Bot</code> 抽象类，adapter 开发者应该继承基类实现平台 API。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Bot</span>(abc.ABC):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Bot 基类。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    用于处理上报消息，并提供 API 调用接口。</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> nonebot.adapters <span class="keyword">import</span> Bot <span class="keyword">as</span> BaseBot</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Bot</span>(<span class="title class_ inherited__">BaseBot</span>):</span><br><span class="line">    adapter: <span class="string">&quot;Adapter&quot;</span></span><br></pre></td></tr></table></figure>

<p>如果直接实例化抽象类，将会：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Can&#x27;t instantiate abstract class Bot with abstract method send</span><br></pre></td></tr></table></figure>
<p>原因：Python 在尝试实例化抽象类时，会检查类中是否有未实现的抽象方法。</p>
<h3 id="事件回调"><a href="#事件回调" class="headerlink" title="事件回调"></a>事件回调</h3><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/doc/offiaccount/Message_Management/Passive_user_reply_message.html">公众号被动回复</a></p>
<p>需求场景：当使用者调用 <code>bot.send</code> 方法时，需要将 <code>Message</code> “发送” 给 <code>handle_http</code> 方法响应微信请求，而它们之间通过 NoneBot 的 handle_event 传递事件，没有直接调用关系。</p>
<p>方案一：定义一个全局字典，<code>send</code> 的参数写入字典，<code>handle_http</code> 轮询字典获得数据。（耗性能，高延迟）</p>
<p>方案二：使用 asyncio</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">OfficialReplyResponse</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        <span class="variable language_">self</span>._futures: <span class="built_in">dict</span>[<span class="built_in">int</span>, asyncio.Future] = &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">set_resp</span>(<span class="params">self, event_id: <span class="built_in">str</span>, resp: Response</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        <span class="string">&quot;&quot;&quot; 设置响应 &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> future := <span class="variable language_">self</span>._futures.get(event_id):</span><br><span class="line">            future.set_result(resp)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">raise</span> OfficialReplyError()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">get_resp</span>(<span class="params">self, event_id: <span class="built_in">str</span>, timeout: <span class="built_in">float</span></span>) -&gt; Response:</span><br><span class="line">        <span class="string">&quot;&quot;&quot; 获取响应 &quot;&quot;&quot;</span></span><br><span class="line">        future = asyncio.get_event_loop().create_future()</span><br><span class="line">        <span class="variable language_">self</span>._futures[event_id] = future</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">await</span> asyncio.wait_for(future, timeout)</span><br><span class="line">        <span class="keyword">finally</span>:</span><br><span class="line">            <span class="keyword">del</span> <span class="variable language_">self</span>._futures[event_id]</span><br></pre></td></tr></table></figure>
<p>说明：<br><code>future = asyncio.get_event_loop().create_future()</code> 将创建一个 Future 对象，相当于一个“占位符”，它等待某个异步操作完成并返回结果。<br>当使用 <code>future.set_result(resp)</code> 时，<code>asyncio.wait_for(future, timeout)</code> 才会返回结果，否则一直 await。</p>
<h3 id="getattr-魔法函数"><a href="#getattr-魔法函数" class="headerlink" title="getattr 魔法函数"></a>getattr 魔法函数</h3><h4 id="异步函数"><a href="#异步函数" class="headerlink" title="异步函数"></a>异步函数</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">_ApiCall</span>(<span class="title class_ inherited__">Protocol</span>):</span><br><span class="line">    <span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">__call__</span>(<span class="params">self, **kwargs: <span class="type">Any</span></span>) -&gt; <span class="type">Any</span>: ...</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TestClass</span>:</span><br><span class="line">    <span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">call_api</span>(<span class="params">self, api: <span class="built_in">str</span>, **kwargs: <span class="type">Any</span></span>) -&gt; <span class="type">Any</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;调用 <span class="subst">&#123;api&#125;</span> 异步接口&quot;</span>, kwargs)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getattr__</span>(<span class="params">self, name: <span class="built_in">str</span></span>) -&gt; <span class="string">&quot;_ApiCall&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> partial(<span class="variable language_">self</span>.call_api, name)</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">test</span>():</span><br><span class="line">    o = TestClass()</span><br></pre></td></tr></table></figure>
<p>此时 <code>await o.any_func(a=1)</code> 与 <code>await o.call_api(api=&quot;any_func&quot;, a=1)</code> 等价</p>
<h4 id="同步函数"><a href="#同步函数" class="headerlink" title="同步函数"></a>同步函数</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">_ApiCall</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__call__</span>(<span class="params">self, **kwargs: <span class="type">Any</span></span>) -&gt; <span class="type">Any</span>: ...</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TestClass</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">call_api</span>(<span class="params">self, api: <span class="built_in">str</span>, **kwargs: <span class="type">Any</span></span>) -&gt; <span class="type">Any</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;调用 <span class="subst">&#123;api&#125;</span> 同步接口&quot;</span>, kwargs)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getattr__</span>(<span class="params">self, name: <span class="built_in">str</span></span>) -&gt; _ApiCall:</span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">api_call</span>(<span class="params">**kwargs: <span class="type">Any</span></span>):</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">self</span>.call_api(name, **kwargs)</span><br><span class="line">        <span class="keyword">return</span> api_call</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test</span>():</span><br><span class="line">    o = TestClass()</span><br></pre></td></tr></table></figure>
<p>此时 <code>o.any_func(a=1)</code> 与 <code>o.call_api(api=&quot;any_func&quot;, a=1)</code> 等价</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://blog.yangrucheng.top/posts/2023/01/6cbc3af20e31/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="YangRucheng">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="符号看象限">
      <meta itemprop="description" content="博客、分享、经验、教程">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | 符号看象限">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/2023/01/6cbc3af20e31/" class="post-title-link" itemprop="url">Ubuntu 常用命令记录</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-01-20 00:00" itemprop="dateCreated datePublished" datetime="2023-01-20T00:00:00+08:00">2023-01-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-08-17 01:11" itemprop="dateModified" datetime="2025-08-17T01:11:41+08:00">2025-08-17</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>本篇主要记录 Ubuntu 安装软件的过程</p>
</blockquote>
<h2 id="开启root账号ssh"><a href="#开启root账号ssh" class="headerlink" title="开启root账号ssh"></a>开启root账号ssh</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 写入证书</span></span><br><span class="line"><span class="built_in">cat</span> ~/.ssh/id_rsa.pub | <span class="built_in">tee</span> /root/.ssh/authorized_keys &amp;&amp; <span class="built_in">chmod</span> 600 /root/.ssh/authorized_keys</span><br><span class="line"><span class="comment"># 启用root登录</span></span><br><span class="line">sed -i <span class="string">&#x27;s/#PermitRootLogin prohibit-password/PermitRootLogin yes/&#x27;</span> /etc/ssh/sshd_config</span><br><span class="line"><span class="comment"># 禁用密码登录</span></span><br><span class="line">sed -i <span class="string">&#x27;s/#PasswordAuthentication yes/PasswordAuthentication no/&#x27;</span> /etc/ssh/sshd_config</span><br><span class="line"><span class="comment"># 启用证书登录</span></span><br><span class="line">sed -i <span class="string">&#x27;s/#PubkeyAuthentication yes/PubkeyAuthentication yes/&#x27;</span> /etc/ssh/sshd_config</span><br><span class="line"><span class="comment"># 重启ssh</span></span><br><span class="line">systemctl restart ssh                                                        </span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>ssh-keygen -R example.com</code> 清除ssh指纹</p>
</blockquote>
<h2 id="更换源及升级包"><a href="#更换源及升级包" class="headerlink" title="更换源及升级包"></a>更换源及升级包</h2><h3 id="升级包"><a href="#升级包" class="headerlink" title="升级包"></a>升级包</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt update &amp;&amp; apt upgrade -y &amp;&amp; apt autoremove -y</span><br></pre></td></tr></table></figure>
<p>或</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt update \</span><br><span class="line">&amp;&amp; apt install -y --allow-change-held-packages $(apt list --upgradable 2&gt;/dev/null | grep -Ev <span class="string">&quot;(列表|Listing)&quot;</span> | awk -F/ <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> | xargs) \</span><br><span class="line">&amp;&amp; apt autoremove -y</span><br></pre></td></tr></table></figure>

<h2 id="更改语言"><a href="#更改语言" class="headerlink" title="更改语言"></a>更改语言</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">apt install fonts-wqy-zenhei &amp;&amp; fc-cache</span><br><span class="line">sed -i <span class="string">&#x27;s/^# zh_CN.UTF-8 UTF-8/zh_CN.UTF-8 UTF-8/&#x27;</span> /etc/locale.gen</span><br><span class="line">locale-gen</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;LANG=zh_CN.UTF-8&#x27;</span> &gt; /etc/default/locale</span><br></pre></td></tr></table></figure>

<h2 id="安装服务器管理面板"><a href="#安装服务器管理面板" class="headerlink" title="安装服务器管理面板"></a>安装服务器管理面板</h2><h3 id="宝塔开心版"><a href="#宝塔开心版" class="headerlink" title="宝塔开心版"></a>宝塔开心版</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash -c <span class="string">&quot;<span class="subst">$(curl -sSL http://io.bt.sb/install/install_panel.sh)</span>&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="1Panel-开心版"><a href="#1Panel-开心版" class="headerlink" title="1Panel 开心版"></a>1Panel 开心版</h3><p><a target="_blank" rel="noopener" href="https://1panel.jp/">来源</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash -c <span class="string">&quot;<span class="subst">$(curl -sSL https://resource.1panel.jp/1panel/package/v2/quick_start.sh)</span>&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="网络配置工具"><a href="#网络配置工具" class="headerlink" title="网络配置工具"></a>网络配置工具</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install network-manager</span><br></pre></td></tr></table></figure>
<p>即可使用 <code>nmtui</code></p>
<h2 id="安装Docker及常用镜像"><a href="#安装Docker及常用镜像" class="headerlink" title="安装Docker及常用镜像"></a>安装Docker及常用镜像</h2><p>来源：<a target="_blank" rel="noopener" href="https://linuxmirrors.cn/">LinuxMirrors</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -sSL https://linuxmirrors.cn/docker.sh)</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/docker/daemon.json <span class="comment"># 修改配置文件</span></span><br></pre></td></tr></table></figure>

<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;data-root&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/var/lib/docker&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;dns&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;114.114.114.114&quot;</span><span class="punctuation">,</span> <span class="string">&quot;8.8.8.8&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;registry-mirrors&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">&quot;https://docker.1panel.live&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;https://docker.proxy.yangrucheng.top&quot;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;default-address-pools&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;base&quot;</span><span class="punctuation">:</span> <span class="string">&quot;172.17.0.0/16&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;size&quot;</span><span class="punctuation">:</span> <span class="number">24</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;log-driver&quot;</span><span class="punctuation">:</span> <span class="string">&quot;json-file&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;log-opts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;max-size&quot;</span><span class="punctuation">:</span> <span class="string">&quot;10m&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;max-file&quot;</span><span class="punctuation">:</span> <span class="string">&quot;3&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>配置 Docker Pull 代理</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/systemd/system/multi-user.target.wants/docker.service</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Environment=HTTP_PROXY=http://127.0.0.1:7890</span><br><span class="line">Environment=HTTPS_PROXY=http://127.0.0.1:7890</span><br><span class="line">Environment=NO_PROXY=localhost,127.0.0.1</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">systemctl daemon-reload \</span><br><span class="line">&amp;&amp; systemctl stop docker.service \</span><br><span class="line">&amp;&amp; systemctl stop docker.socket \</span><br><span class="line">&amp;&amp; systemctl start docker.service \</span><br><span class="line">&amp;&amp; systemctl start docker.socket</span><br></pre></td></tr></table></figure>

<blockquote>
<p>进入容器内部<br><code>docker exec -it 容器ID /bin/sh</code></p>
</blockquote>
<h2 id="安装常用语言"><a href="#安装常用语言" class="headerlink" title="安装常用语言"></a>安装常用语言</h2><h3 id="安装-Go"><a href="#安装-Go" class="headerlink" title="安装 Go"></a>安装 Go</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">GO_VERSION=<span class="string">&quot;1.23.6&quot;</span></span><br><span class="line">DEVICE=<span class="string">&quot;linux-amd64&quot;</span> <span class="comment"># linux-amd64 / linux-arm64</span></span><br><span class="line">GO_URL=<span class="string">&quot;https://golang.google.cn/dl/go<span class="variable">$GO_VERSION</span>.<span class="variable">$DEVICE</span>.tar.gz&quot;</span></span><br><span class="line">wget -O go.tar.gz <span class="variable">$GO_URL</span></span><br><span class="line"><span class="built_in">sudo</span> tar -C /usr/local -xzf go.tar.gz</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;export PATH=$PATH:/usr/local/go/bin&#x27;</span> &gt;&gt; ~/.bashrc</span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br><span class="line">go version</span><br></pre></td></tr></table></figure>

<h3 id="安装-NodeJs"><a href="#安装-NodeJs" class="headerlink" title="安装 NodeJs"></a>安装 NodeJs</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">NODE_VERSION=<span class="string">&quot;22.13.1&quot;</span></span><br><span class="line">DEVICE=<span class="string">&quot;linux-x64&quot;</span> <span class="comment"># linux-x64 / linux-arm64</span></span><br><span class="line">NODE_URL=<span class="string">&quot;https://nodejs.org/dist/v<span class="variable">$&#123;NODE_VERSION&#125;</span>/node-v<span class="variable">$&#123;NODE_VERSION&#125;</span>-<span class="variable">$DEVICE</span>.tar.xz&quot;</span></span><br><span class="line">wget -O node.tar.xz <span class="variable">$NODE_URL</span></span><br><span class="line"><span class="built_in">sudo</span> tar -C /usr/local --strip-components 1 -xf node.tar.xz</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;export PATH=$PATH:/usr/local/bin&#x27;</span> &gt;&gt; ~/.bashrc</span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br><span class="line">node -v &amp;&amp; npm -v</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://blog.yangrucheng.top/posts/2022/03/719dbd0f8d3c/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="YangRucheng">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="符号看象限">
      <meta itemprop="description" content="博客、分享、经验、教程">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | 符号看象限">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/2022/03/719dbd0f8d3c/" class="post-title-link" itemprop="url">常用容器配置备份</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-03-20 00:00" itemprop="dateCreated datePublished" datetime="2022-03-20T00:00:00+08:00">2022-03-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-08-17 01:11" itemprop="dateModified" datetime="2025-08-17T01:11:41+08:00">2025-08-17</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="安装-Portainer-容器管理工具"><a href="#安装-Portainer-容器管理工具" class="headerlink" title="安装 Portainer 容器管理工具"></a>安装 Portainer 容器管理工具</h2><h3 id="创建网络-以便后续使用"><a href="#创建网络-以便后续使用" class="headerlink" title="创建网络, 以便后续使用"></a>创建网络, 以便后续使用</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">network_name=<span class="string">&quot;network&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> docker network <span class="built_in">ls</span> | grep -q <span class="string">&quot;network&quot;</span>; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;网络已存在&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    docker network create --driver bridge --gateway=172.18.0.1 --subnet=172.18.0.0/24 network</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;网络创建成功&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<h3 id="安装-Portainer-社区版"><a href="#安装-Portainer-社区版" class="headerlink" title="安装 Portainer 社区版"></a>安装 Portainer 社区版</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">docker run -d \</span><br><span class="line">  -p 9000:9000 \</span><br><span class="line">  --name=Portainer \</span><br><span class="line">  --restart=always \</span><br><span class="line">  -v /var/run/docker.sock:/var/run/docker.sock </span><br><span class="line">  -v /home/Docker/Portainer:/data </span><br><span class="line">  portainer/portainer-ce</span><br></pre></td></tr></table></figure>

<h3 id="安装-Portainer-Agent"><a href="#安装-Portainer-Agent" class="headerlink" title="安装 Portainer Agent"></a>安装 Portainer Agent</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> DEVICE_NAME=<span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">docker run -d \</span><br><span class="line">    -p 9001:9001 \</span><br><span class="line">    --name PortainerAgent \</span><br><span class="line">    --restart=always \</span><br><span class="line">    -v /var/run/docker.sock:/var/run/docker.sock \</span><br><span class="line">    -v /var/lib/docker/volumes:/var/lib/docker/volumes \</span><br><span class="line">    -v /:/host \</span><br><span class="line">    -e DEVICE_NAME=<span class="string">&quot;<span class="variable">$DEVICE_NAME</span>&quot;</span> \</span><br><span class="line">    portainer/agent</span><br></pre></td></tr></table></figure>

<h3 id="安装-Portainer-Edge-Agent"><a href="#安装-Portainer-Edge-Agent" class="headerlink" title="安装 Portainer Edge Agent"></a>安装 Portainer Edge Agent</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> EDGE_ID=<span class="string">&quot;&quot;</span></span><br><span class="line"><span class="built_in">export</span> EDGE_KEY=<span class="string">&quot;&quot;</span></span><br><span class="line"><span class="built_in">export</span> DEVICE_NAME=<span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">docker run -d \</span><br><span class="line">  -v /var/run/docker.sock:/var/run/docker.sock \</span><br><span class="line">  -v /var/lib/docker/volumes:/var/lib/docker/volumes \</span><br><span class="line">  -v /:/host \</span><br><span class="line">  -v Portainer:/data \</span><br><span class="line">  --restart always \</span><br><span class="line">  -e EDGE=1 \</span><br><span class="line">  -e EDGE_ID=<span class="string">&quot;<span class="variable">$EDGE_ID</span>&quot;</span> \</span><br><span class="line">  -e EDGE_KEY=<span class="string">&quot;<span class="variable">$EDGE_KEY</span>&quot;</span> \</span><br><span class="line">  -e DEVICE_NAME=<span class="string">&quot;<span class="variable">$DEVICE_NAME</span>&quot;</span> \</span><br><span class="line">  -e EDGE_INSECURE_POLL=1 \</span><br><span class="line">  --name PortainerEdgeAgent \</span><br><span class="line">  portainer/agent</span><br></pre></td></tr></table></figure>

<h2 id="AList-云盘列表程序"><a href="#AList-云盘列表程序" class="headerlink" title="AList 云盘列表程序"></a>AList 云盘列表程序</h2><h3 id="仅安装-AList"><a href="#仅安装-AList" class="headerlink" title="仅安装 AList"></a>仅安装 AList</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">services:  </span><br><span class="line">    alist:</span><br><span class="line">        image: &#x27;xhofe/alist:beta-aria2&#x27;</span><br><span class="line">        container_name: AList</span><br><span class="line">        volumes:</span><br><span class="line">            - &#x27;vol_1:/opt/alist/data&#x27;</span><br><span class="line">            - &#x27;/etc/docker/containers/alist/config.json:/opt/alist/data/config.json&#x27;</span><br><span class="line">        environment:</span><br><span class="line">            - &#x27;PUID=0&#x27;</span><br><span class="line">            - &#x27;PGID=0&#x27;</span><br><span class="line">            - &#x27;TZ=Asia/Shanghai&#x27;</span><br><span class="line">        ports:</span><br><span class="line">            - &#x27;5244:5244&#x27;</span><br><span class="line">        restart: unless-stopped</span><br><span class="line">        networks:</span><br><span class="line">            - persist</span><br><span class="line">            </span><br><span class="line">networks:</span><br><span class="line">    persist:</span><br><span class="line">        external: true</span><br><span class="line">        name: network</span><br><span class="line"></span><br><span class="line">volumes:</span><br><span class="line">    vol_1:</span><br><span class="line">        name: AList</span><br></pre></td></tr></table></figure>

<h3 id="包括-QbitTorrent-和-Aria2"><a href="#包括-QbitTorrent-和-Aria2" class="headerlink" title="包括 QbitTorrent 和 Aria2"></a>包括 QbitTorrent 和 Aria2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">services:  </span><br><span class="line">    qbittorrent:</span><br><span class="line">        image: &#x27;linuxserver/qbittorrent&#x27;</span><br><span class="line">        container_name: Qbittorrent</span><br><span class="line">        environment:</span><br><span class="line">            - &#x27;PUID=0&#x27;</span><br><span class="line">            - &#x27;PGID=0&#x27;</span><br><span class="line">            - &#x27;TZ=Asia/Shanghai&#x27;</span><br><span class="line">            - &#x27;TORRENTING_PORT=6881&#x27;</span><br><span class="line">            - &#x27;WEBUI_PORT=6879&#x27;</span><br><span class="line">        volumes:</span><br><span class="line">            - &#x27;vol_2:/config&#x27;</span><br><span class="line">            - &#x27;vol_downloads:/downloads&#x27;</span><br><span class="line">        ports:</span><br><span class="line">            - &#x27;5244:5244&#x27;</span><br><span class="line">            - &#x27;6800:6800&#x27;</span><br><span class="line">            - &#x27;6880:6880&#x27;  </span><br><span class="line">            - &#x27;6879:6879&#x27;</span><br><span class="line">            - &#x27;6881:6881&#x27;</span><br><span class="line">            - &#x27;6881:6881/udp&#x27;</span><br><span class="line">        restart: unless-stopped</span><br><span class="line">        networks:</span><br><span class="line">            - persist</span><br><span class="line">  </span><br><span class="line">    alist:</span><br><span class="line">        image: &#x27;xhofe/alist-aria2&#x27;</span><br><span class="line">        container_name: AList</span><br><span class="line">        volumes:</span><br><span class="line">            - &#x27;vol_1:/opt/alist/data&#x27;</span><br><span class="line">            - &#x27;vol_downloads:/opt/alist/data/temp/qbittorrent&#x27;</span><br><span class="line">            - &#x27;/mnt/share:/mnt/share&#x27;</span><br><span class="line">            - &#x27;/etc/docker/containers/alist/config.json:/opt/alist/data/config.json&#x27;</span><br><span class="line">        environment:</span><br><span class="line">            - &#x27;PUID=0&#x27;</span><br><span class="line">            - &#x27;PGID=0&#x27;</span><br><span class="line">            - &#x27;TZ=Asia/Shanghai&#x27;</span><br><span class="line">        restart: unless-stopped</span><br><span class="line">        network_mode: &quot;service:qbittorrent&quot;</span><br><span class="line">            </span><br><span class="line">    AriaNg:</span><br><span class="line">        image: &#x27;p3terx/ariang&#x27;</span><br><span class="line">        container_name: AriaNg</span><br><span class="line">        restart: unless-stopped</span><br><span class="line">        network_mode: &quot;service:qbittorrent&quot;</span><br><span class="line">        </span><br><span class="line">networks:</span><br><span class="line">    persist:</span><br><span class="line">        external: true</span><br><span class="line">        name: network</span><br><span class="line"></span><br><span class="line">volumes:</span><br><span class="line">    vol_1:</span><br><span class="line">        name: AList</span><br><span class="line">    vol_2:</span><br><span class="line">        name: Qbittorrent</span><br><span class="line">    vol_downloads:</span><br><span class="line">        name: Downloads-Qbittorrent</span><br></pre></td></tr></table></figure>

<h2 id="关系型数据库"><a href="#关系型数据库" class="headerlink" title="关系型数据库"></a>关系型数据库</h2><h3 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">services:</span><br><span class="line">    MySQL:</span><br><span class="line">        image: &#x27;mysql&#x27;</span><br><span class="line">        container_name: MySQL</span><br><span class="line">        restart: always</span><br><span class="line">        ports:</span><br><span class="line">            - &#x27;3306:3306&#x27;</span><br><span class="line">        volumes:</span><br><span class="line">            - &#x27;vol_1:/var/lib/mysql&#x27;</span><br><span class="line">        environment:</span><br><span class="line">            - &#x27;MYSQL_ROOT_PASSWORD=&#x27;</span><br><span class="line">            - &#x27;TZ=Asia/Shanghai&#x27;</span><br><span class="line">        networks:</span><br><span class="line">            - persist</span><br><span class="line"></span><br><span class="line">networks:</span><br><span class="line">    persist:</span><br><span class="line">        external: true</span><br><span class="line">        name: network</span><br><span class="line"></span><br><span class="line">volumes:</span><br><span class="line">    vol_1:</span><br><span class="line">        name: MySQL</span><br></pre></td></tr></table></figure>

<h3 id="MariaDB"><a href="#MariaDB" class="headerlink" title="MariaDB"></a>MariaDB</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">services:</span><br><span class="line">    MariaDB:</span><br><span class="line">        image: mariadb</span><br><span class="line">        container_name: MariaDB</span><br><span class="line">        restart: always</span><br><span class="line">        ports:</span><br><span class="line">            - &#x27;3307:3306&#x27;</span><br><span class="line">        volumes:</span><br><span class="line">            - &#x27;vol_1:/var/lib/mysql&#x27;</span><br><span class="line">        environment:</span><br><span class="line">            - &#x27;MARIADB_ROOT_PASSWORD=&#x27;</span><br><span class="line">            - &#x27;TZ=Asia/Shanghai&#x27;</span><br><span class="line">        networks:</span><br><span class="line">            - persist</span><br><span class="line"></span><br><span class="line">networks:</span><br><span class="line">    persist:</span><br><span class="line">        external: true</span><br><span class="line">        name: network</span><br><span class="line"></span><br><span class="line">volumes:</span><br><span class="line">    vol_1:</span><br><span class="line">        external: true</span><br><span class="line">        name: MariaDB</span><br></pre></td></tr></table></figure>

<h2 id="MongoDB"><a href="#MongoDB" class="headerlink" title="MongoDB"></a>MongoDB</h2><blockquote>
<p>在不支持AVX指令集的CPU上必须使用4.4.18版本, 不支持5.0+版本</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">services:</span><br><span class="line">    MongoDB:</span><br><span class="line">        image: mongo:4.4.18</span><br><span class="line">        container_name: MongoDB</span><br><span class="line">        restart: always</span><br><span class="line">        ports:</span><br><span class="line">            - &#x27;27017:27017&#x27;</span><br><span class="line">        volumes:</span><br><span class="line">            - &#x27;vol_1:/data&#x27;</span><br><span class="line">        environment:</span><br><span class="line">            - &#x27;MONGO_INITDB_ROOT_USERNAME=root&#x27;</span><br><span class="line">            - &#x27;MONGO_INITDB_ROOT_PASSWORD=&#x27;</span><br><span class="line">        networks:</span><br><span class="line">            - persist</span><br><span class="line"></span><br><span class="line">networks:</span><br><span class="line">    persist:</span><br><span class="line">        external: true</span><br><span class="line">        name: network</span><br><span class="line"></span><br><span class="line">volumes:</span><br><span class="line">    vol_1:</span><br><span class="line">        external: true</span><br><span class="line">        name: MongoDB</span><br></pre></td></tr></table></figure>

<h2 id="HomeAssistant"><a href="#HomeAssistant" class="headerlink" title="HomeAssistant"></a>HomeAssistant</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">services:</span><br><span class="line">    HomeAssistant:</span><br><span class="line">        image: homeassistant/home-assistant</span><br><span class="line">        container_name: HomeAssistant</span><br><span class="line">        restart: always</span><br><span class="line">        ports:</span><br><span class="line">            - &#x27;8500:8123&#x27;</span><br><span class="line">        volumes:</span><br><span class="line">            - &#x27;vol_1:/config&#x27;</span><br><span class="line">        networks:</span><br><span class="line">            - persist</span><br><span class="line"></span><br><span class="line">networks:</span><br><span class="line">    persist:</span><br><span class="line">        external: true</span><br><span class="line">        name: network</span><br><span class="line"></span><br><span class="line">volumes:</span><br><span class="line">    vol_1:</span><br><span class="line">        external: true</span><br><span class="line">        name: HomeAssistant</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>





</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2026</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">YangRucheng</span>
  </div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>

</body>
</html>
